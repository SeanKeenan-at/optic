---
title: SwaggerHub
icon: '/img/scripts/swaggerhub.svg'
---

import ExpandDocs from '../../src/components/Expand';

### What you'll need to know

<p>To integrate with {frontMatter.title}, you'll need the following information:</p>

- **SwaggerHub API owner name** such as `api-owner`
- **SwaggerHub API project name** such as `your-api-project`.
- **SwaggerHub API version**, such as `1.0`. 
- **SwaggerHub API key**, for the swaggerhub-cli which we'll install later.

<h3>Preparing your {frontMatter.title} setup</h3>

<ExpandDocs title="Set up your SwaggerHub project" defaultOpen={false}>

The first step to integrating with SwaggerHub is setting up your API project. If you've already done this, you can skip this step.

Head over to [Swaggerhub.com](https://swaggerhub.com) and sign up for a new account (or **sign in**). Follow the flow to [create your API](https://support.smartbear.com/swaggerhub/docs/apis/creating-api.html). During this process you'll set the **SwaggerHub API owner**, **project name**, and **version**. Keep this handy - this and your login credentials are both required by the Readme command line tool, `rdme`, to upload your specification generated by Optic.

Next, get your SwaggerHub API key. You'll need this to authenticate with the SwaggerHub CLI. Click on your username in the upper-right hand corner of the SwaggerHub dashboard, then click **Settings**. On the left, you'll see a tab for **API Key** which you can click.

</ExpandDocs>

<p>Once you have an active project, there's no further setup required on your {frontMatter.title} account.</p>

<h3>Integrating {frontMatter.title} with Optic scripts</h3>

Scripts are defined in your project's `optic.yml` file. We'll add a script definition to call the SwaggerHub CLI and update your documentation:

```yml title='optic.yml' {7-11}
name: "todo-js" 
tasks:
  start:
    command: node server.js --port $PORT
    inboundUrl: http://localhost:3001
	
scripts:
  swaggerhub:
    command: swaggerhub api:update <api-owner>/<your-api-project>/<version> --file $OPENAPI_JSON
    dependsOn: swaggerhub
    install: npm install --global swaggerhub-cli && swaggerhub configure
```

### Running your Optic Script for the first time

To ensure the dependency is installed, run:

```sh
api scripts swaggerhub --install
```

This will check for the SwaggerHub CLI `swaggerhub`, and if it isn't found, install it and configure it for your local use. Once installed, Optic will generate an up to date OpenAPI file and upload the latest specification.

```
[optic] Found Script swaggerhub
Checking bin dependencies Requiring ["swaggerhub"]... Missing dependencies
[optic] Some bin dependencies are missing ["swaggerhub"]. false
Running install command: npm install --global swaggerhub-cli && swaggerhub configure ... â£»

...
? SwaggerHub URL: <default URL provided: https://api.swaggerhub.com>
? API Key: <if previously configured, API key default suggested)
Saved config to .../.config/swaggerhub-cli/config.json

Running command: swaggerhub api:update <api-owner>/<your-api-project>/<version> --file $OPENAPI_JSON
Updated API <api-owner>/<your-api-project>/<version>
```

:::tip
This script runs `swaggerhub configure` on first install, so you'll only need to authenticate once. The SwaggerHub local CLI will store your key for future runs. You can run the configure command before the api:update command to be able to update your SwaggerHub URL or API key, though in practice you shouldn't need to do that often and only adds extra steps
:::

### Running your Optic Script generally

You don't need to run your scripts command with the `--install` flag every time. Once installed, you can run:

```sh
api scripts swaggerhub
```

You will be prompted to log in, and your latest specification will be uploaded to SwaggerHub. SwaggerHub's CLI does allow you to set the configuration values (URL and API Key) as [environment variables](https://github.com/SmartBear/swaggerhub-cli#swaggerhub-configure). This is handy if you want updates to run automatically such as in your CI pipeline on merges. [Let us know](https://github.com/opticdev/optic/issues/new) if we can help you integrate your Optic Script further.